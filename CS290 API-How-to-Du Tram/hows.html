<!DOCTYPE HTML>
<!--
	Spatial by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Yelp API How-to </title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="landing">

		<!-- Header -->
			<header id="header" class="alt">
				<h1><strong><a href="index.html">Yelp API How-to</a></strong>CS290-Du Tram</h1>
				<nav id="nav">
					<ul>
						<li><a href="index.html">My How-to Home </a></li>
						<li><a href="hows.html">Digestion Methods-the Hows</a></li>
						<li><a href="demo.html">Dig-in -Demo</a></li>
					</ul>
				</nav>
			</header>

			<a href="#menu" class="navPanelToggle"><span class="fa fa-bars"></span></a>

		<!-- Banner -->
			<section id="banner1">
				<h2>the Hows</h2>
				<p>If you are still wondering about <span style= "color:red">Yelp</span> Fusion, you are at the right place!<br /> This section will answer all your questions of <em>How</em> webs, apps, programmers and users interact with each other on the API maketplaces. </p>
			</section>

			<!-- One -->
				<section id="one" class="wrapper style1">
					<div class="container 75%">
						<div class="row 200%">
							<div class="6u 12u$(medium)">
								<header class="major">
									<h2>No. 1 - How is it being used?</h2>
									<p>Do you know that Yelp API has been used in many different meaningful ways?</p>
								</header>
							</div>
							<div class="6u$ 12u$(medium)">
								<p>From providing basic necessities to improving one's lifestyle, apps have been very crucial to our everyday life. As part of the app-building process, API is very helpful for programmers to exchange and intergrate data. Particularly, Yelp API has played an important roles in providing data and functions for the development of these useful apps. Let name some examples that we have probably heard of.</p>
								<p> It has been quite an amount of time from when Yelp’s data started to power apps for Apple, Yahoo, BMW, Lexus, Mercedes, Pebble, and many other startups.
								Developers and partners of all shapes and sizes, from tiny startups to Fortune 500 companies, use the Yelp API to help their users make better decisions within their own apps. <a href="https://www.trulia.com/">Trulia </a>helps home seekers find the right home, in the right neighborhood. Providing consumers with a complete picture of the neighborhood – restaurants, grocery stores, and other amenities – is crucial in the home search process. So they integrated the Yelp API into their maps, helping consumers identify their ideal neighborhood without leaving the Trulia app or website.</p>
								<p>Quite similar to Trulia but more to a lifestyle improving app is <a href="https://www.walkscore.com"/>WalkScore</a>, a website that takes a physical address and computes, using proprietary algorithms and various data streams including Yelp API, to measure of its walkability. More recently it’s started tracking how transit-friendly neighborhoods are too. What drives the score is choice and proximity—the more amenities (restaurants, movie theaters, schools) you have around you, and the closer they are, the higher your Walk Score. </p>
								<p>In respect lifestyle, it is very worth noting that the U.S. Department of Transportation and the National Highway Traffic Safety Administration (NHTSA) recently unveiled a new mobile app to help people who have been drinking get a safe ride home. The ‘SaferRide’ mobile app, gives holiday revelers an easy way to find a ride home when they’ve had too much to drink instead of getting behind the wheel. The app encourages potential drunk drivers to stay off of the road by helping them contact a close friend, find their location, and connect directly to a taxi company to secure a safe ride. The taxicab information that the app uses will be generated by the Yelp API so users can have the best possible experience as they head home.</p>
							</div>
						</div>
					</div>
				</section>

		<!-- Two -->
				<section id="two" class="wrapper style2 special">
					<div class="container">
						<header class="major">
							<h2>No. 2 - How do we get things started?</h2>
						
							<p>Let's start with some essential tools to enter the kitchen where we cook up the Yelp API.</p>
						</header>
						<p>In order to use the API, you'll need some authentication credentials. You can get these by creating an "App" on Yelp. It varies a bit for the two different versions. In either cases, you will be asked to log in and answer some basic questions. </p>
						<div class="row 150%">
							<div class="6u 12u$(xsmall)">
								<div class="image fit captioned">
									<img src="images/pic02.jpg" alt="" />
									<h3>V2.0 Access tokens</h3>
									<p>As mentioned earlier, from April 1, 2017, Yelp will stop giving out tokens for the V2.0 Access. However, it's still very interesting to learn about this approach as it utilizes the Oauth 1.0, which is also an older version of Oauth. As it's older, less documentation is available and we are on our own here. On another note, it's simpler to get the tokens in this version. We simply log in and go to "Manage API Access" in order to get the authenication credentials.</p>
								</div>
							</div>
							<div class="6u$ 12u$(xsmall)">
								<div class="image fit captioned">
									<img src="images/pic03.jpg" alt="" />
									<h3>V3.0 Access Tokens</h3>
									<p>In order to use the V3.0 case, you have to answer more "security" questions. At the same time, this version does provide a little better guide. Compared to the older version, V3.0 does a really good job in step-by-step instruction right from this step. The detail instructions are at <a href="https://www.yelp.com/developers/documentation/v3/get_started">Get started with Yelp Fusion API.</a></p>
								</div>
							</div>
							<p>Let's dive a little deeper into Oauth. There are many differences between the two versions, we will be going througn some basic ones. If you are still interested. You can check out <a style = "color:red" href="https://tools.ietf.org/html/rfc5849">OAuth 1.0 here</a> and <a style = "color:red"  href="https://tools.ietf.org/html/rfc6749">OAuth 2.0 here</a>. As we have been very familiar with usename-password combination, the idea behind these token are almost very similar. They are all in the family of Oauth. 
In everyday web transactions, the most common credential used is the username-password combination. The primary goal of these Oauth members is to allow ‘authorized’ access to private resources.</p>
<div class="row 150%">
							<div class="6u 12u$(xsmall)">
								<div class="image fit captioned">
									<img src="images/pic04.jpg" alt="" />
									<h3>Oauth 1.0</h3>
									<p> In this particular instance, we can divide the tokens into two groups: the Consumer group and the User group. First of all, the consumer key and consumer secret done using two sets of credentials: the Consumer identifies oneself using its Consumer Key and Consumer Secret, while the User is identified by a Token and Token Secret. Each pair — Consumer Key-Secret and Token-Secret — can be thought of as a username-password pair (one for your application and one for the end-user). But while the Consumer credentials work much like a username and password, the User is represented by a Token which is different than their actual username and password. This allows the Service Provider and User greater control and flexibility in granting Consumer access. For example, the User can revoke a Token without having to change passwords and break other applications. The decoupling of the User’s username and password from the Token is one of the most fundamental aspects of the OAuth architecture.</p>
								</div>
							</div>
							<div class="6u$ 12u$(xsmall)">
								<div class="image fit captioned">
									<img src="images/pic05.jpg" alt="" />
									<h3>Oauth 2.0</h3>
									<p>The one difference that is commonly noticed is that OAuth 2.0 Access tokens are "short-lived". Typically, OAuth 1.0 Access tokens could be stored for a year or more. OAuth 2.0 has the notion of refresh tokens. While I'm not entirely sure what these are, my guess is that your access tokens can be short lived (i.e. session based) while your refresh tokens can be "life time". You'd use a refresh token to acquire a new access token rather than have the user re-authorize your application. On the other hand, OAuth 2.0 signatures are much less complicated. No more special parsing, sorting, or encoding. However, in 2.0, the client credentials are no longer used. This means that tokens are no longer bound to any particular client type or instance. This has introduced limits on the usefulness of access tokens as a form of authentication and increased the likelihood of security issues. According to this <a href="https://hueniverse.com/2012/07/26/oauth-2-0-and-the-road-to-hell/">article </a>, OAuth 2.0 is less secure. The article also concludes that OAuth 2.0 is a bad protocol. Overall, I do not side with either of those as we are here to learn. In the end, it's more fair to say OAuth 2.0 at the hand of a developer with deep understanding of web security will still very likely result is a secure implementation.</p>
								</div>
							</div>
						</div>
						
					</div>

				</section>

				<!-- Two -->
				<section id="two" class="wrapper style2 special">
					<div class="container">
						<header class="major">
							<h2>No. 3 - How-to implement what we have got so far?</h2>
						
							<p>Utensils and ingredients are almost ready? Let's get to the kitchen now!</p>
						</header>
						<p>As we learnt from the previous section, we have two different recipes (V2.0 and V3.0). As such, we will have slightly different ingredients to prep. Again, the V2.0 documentation is limited so we want to prepare more ingredients for it while we will breeze through the V3.0 more easily with some images in node.js. This <a href="https://engineeringblog.yelp.com/2016/07/announcing-yelp-api-v3-developer-preview.html">blog post</a> will touch a little bit on how V3.0 is a better API as it gives you more ways to access to a more variety of data and functions.</p>
						<div class="row 150%">
							<div class="6u 12u$(xsmall)">
								<div class="image fit captioned">
									<img src="images/pic06.jpg" alt="" />
									<h3>Yelp Fusion - V2.0</h3>
									<p>First of all, we start making a web form in html. I won't be going into too much details here since we have covered this in homework. We also need the help of jQuerry to load Javascript content upon the page's fully loaded. In order to make the call, we need too collect 6 value pairs. 
									<ul>
									<li><code>oauth_consumer_key</code>: Your own OAuth consumer key. We learnt how to get this earlier</li>.
									<li><code>oauth_token</code>: Again, access token we got earlier. We learnt how to get this earlier</li>.
									<li><code>oauth_signature</code>: This is a signature signed with the oauth tokens we obtained.</li>.
									<li><code>oauth_timestamp</code>: This is the timestamp for the request in seconds since the Unix epoch.  It should be easily generated in most programming languages as in here<img src="images/time.jpg" alt=""/></li>
									<li><code>oauth_nonce</code>: A unique string to be randomly generated</li>
									<li><code>oauth_signature_method</code>: HMAC-SHA1. <a href="https://en.wikipedia.org/wiki/Hash-based_message_authentication_code">FYI, if you want to take a closer look at this method.</a></li>
									</ul>
									 <p> Next, we will set up the environment and get some npm middlewares. We could use these modules to generate <code>oauth_signature</code> or <code>oauth_nonce</code>:</p>
									 <ul>
									<li><code>npm install --save oauth-signature</code>:This is used for generating the signature.</li>
									<li><code>npm install --save nonce </code>: Used for the nonce.</li>
									<li><code> npm install --save request</code> </li> </li> 
									</ul>
									<p> or we could venture into creating our own generating functions for the latter as follows:<img src="images/nonce.jpg" alt=""/>. If we do a quick search, there are a lot of resources helping us in creating them, for example, the <a href="https://dev.twitter.com/oauth/overview/creating-signatures">Twitter API documentation </a> has a very detailed explanation on how to create a signature. On an another note, if we go with the traditional script we can look up and include the OAuth.js, SHA1.js and crypto.js.</p>
									<p> Seems like we are almost ready to put them together for our url and authorization <img src="more.jpg" alt=""/></p>
									<p>Lastly, we will make an ajax request with our url, data, datatype, cache and the error handler.
									<img src="images/ajax.jpg" alt=""/></p>
								</div>

							</div>
							<div class="6u$ 12u$(xsmall)">
								<div class="image fit captioned">
									<img src="images/pic07.jpg" alt="" />
									<h3>V3.0 Access Tokens</h3>
									<p>As V2.0 on the other side has gone through a lot of new stuffs. We will take it easy and breeze through this side with a very straigtforward <a href="https://github.com/Yelp/yelp-fusion/tree/master/fusion/node">guide</a> </p>
									<p> Simply clone the repo <img src="images/snip1.jpg"alt=""/>, and then install some dependences:<img src="images/snip2.jpg"alt=""/></p>
									<p> The sample.js we have here is displaying the result of the first business for four barrel coffee in San Francisco <img src="images/snip3.jpg" alt=""/> I'm currently located in SF so of course I would be more interested in manipulating it to give me  more result like this: <img src="images/snip4.jpg" alt=""/>
									which gives me all businesses that have ramen burger in New York. Don't ask me how I do that, it was just a simple twist in the sample.js file: <img src="images/snip_m.jpg" alt=""/>.</p>
								</div>
							</div>
						
						</div>
						
					</div>

				</section>


			<!-- Four -->
				<section id="four" class="wrapper style3 special">
					<div class="container">
						<header class="major">
							<h2>Enough codes, let's play with our product!</h2>
							<p>Start thinking about where you want to go next now and click below for our demo.</p>
						</header>
						<ul class="actions">
							<li><a href="demo.html" class="button special big">Dig-in Demo</a></li>
						</ul>
					</div>
				</section>

		<!-- Footer -->
			<footer id="footer">
					<div class="container">
					<ul>
						<li><a href="index.html">My How-to Home </a></li>
						<li><a href="Hows.html">Digestion Methods -the Hows</a></li>
						<li><a href="demo.html">Dig-in -Demo</a></li>
					</ul>
					<ul class="copyright">
						<li>&copy; Du Tram</li>
						<li>Design: <a href="http://templated.co">TEMPLATED</a></li>
						<li>Images: <a href="https://images.google.com/">Google Images</a></li>
						<a href="https://www.pinterest.com/pin/534591418251838992/">Pinterest</a></li>
						
					</ul>
				</div>
			</footer>


		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>